(this.webpackJsonpdoisjepasserunrattrapage=this.webpackJsonpdoisjepasserunrattrapage||[]).push([[0],{44:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),c=(a(44),a(34)),o=a(28),l=a(32),d=a(33),u=a(36),h=a(35),m=a(87),j=a(83),v=a(9),p=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={year:{items:[]}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("Fetching things"),fetch("".concat("/doisjepasserunrattrapage","/diploma/nanterre-l1-histoiredelart-ead.json")).then((function(e){return e.json()})).then((function(t){var a=e.computeBloc(t).itemProcessed;console.log(a),e.setState({year:a})}))}},{key:"computeBloc",value:function(e){var t,a=0,n=0,r=0,i={name:e.name,type:e.type,items:[]},s=Object(o.a)(e.items);try{for(s.s();!(t=s.n()).done;){var c=t.value;if("items"in c){var l=this.computeBloc(c);i.items.push(l.itemProcessed),isNaN(l.grade)?r+=l.credit:(a+=l.grade*l.credit,n+=l.credit)}else i.items.push(c),c.disp?r+=c.credit:(a+=c.value*c.credit,n+=c.credit)}}catch(d){s.e(d)}finally{s.f()}return a=Math.round(a/n*1e3)/1e3,n+=r,i.grade=a,i.credit=n,{itemProcessed:i,grade:a,credit:n}}},{key:"onChangeGrade",value:function(e,t){var a=e.target.value,n=this.changeValueInBloc(this.state.year,t,a);n=(n=this.computeBloc(n)).itemProcessed,this.setState({year:n})}},{key:"changeValueInBloc",value:function(e,t,a){var n=Object.assign({},e);if("items"in n){var r,i=[],s=Object(o.a)(e.items);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=this.changeValueInBloc(c,t.child,a);i.push(l)}}catch(d){s.e(d)}finally{s.f()}n.items=i}else n.name===t.name&&(n.value=parseFloat(a));return n}},{key:"styleValidated",value:function(e){return e>=10?{color:"green"}:{color:"red"}}},{key:"render",value:function(){var e=this;return this.state.year.items.map((function(t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(j.a,{style:e.styleValidated(t.grade),variant:"h4",children:[t.name," ",t.grade]}),t.items.map((function(a){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(j.a,{style:e.styleValidated(a.grade),variant:"h5",children:[a.name," ",a.grade]}),a.items.map((function(n){return Object(v.jsx)("div",{children:Object(v.jsxs)(j.a,{style:e.styleValidated(n.value),children:[n.name," - ",n.credit,Object(v.jsx)(m.a,{onChange:function(r){return e.onChangeGrade(r,{name:t.name,child:{name:a.name,child:{name:n.name,child:{name:n.name}}}})},defaultValue:n.value,variant:"outlined",style:{width:"60px"}})]})},n.name)}))]},a.name)}))]},t.name)}))}}]),a}(r.a.Component);a(50);var f=function(e){return Object(v.jsx)(c.a,{basename:"/doisjepasserunrattrapage",children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(p,{})})})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,89)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(f,{})}),document.getElementById("root")),g()}},[[53,1,2]]]);
//# sourceMappingURL=main.b7412b90.chunk.js.map