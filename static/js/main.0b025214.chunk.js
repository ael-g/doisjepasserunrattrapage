(this.webpackJsonpdoisjepasserunrattrapage=this.webpackJsonpdoisjepasserunrattrapage||[]).push([[0],{72:function(e,t,a){},79:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),i=(a(72),a(60)),d=a(19),l=a(54),o=a(55),u=a(62),j=a(61),h=a(111),m=a(115),p=a(116),v=a(118),f=a(117),b=a(44),g=a.n(b),y=a(45),O=a.n(y),x=a(6),k=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={year:{items:[]},rattrapage:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("/doisjepasserunrattrapage","/diploma/nanterre-l1-histoiredelart-ead.json")).then((function(e){return e.json()})).then((function(t){var a=e.computeBloc(t).itemProcessed;e.setState({year:a}),e.computeRattrapage(a)}))}},{key:"computeBloc",value:function(e){var t,a=0,n=0,r=0,s={name:e.name,type:e.type,isFondamentale:e.isFondamentale,items:[]},c=Object(d.a)(e.items);try{for(c.s();!(t=c.n()).done;){var i=t.value;if("items"in i){var l=this.computeBloc(i);s.items.push(l.itemProcessed),isNaN(l.grade)?r+=l.credit:(a+=l.grade*l.credit,n+=l.credit)}else s.items.push(i),i.disp?r+=i.credit:(a+=i.value*i.credit,n+=i.credit)}}catch(o){c.e(o)}finally{c.f()}return a=Math.round(a/n*1e3)/1e3,n+=r,s.grade=a,s.credit=n,{itemProcessed:s,grade:a,credit:n}}},{key:"onChangeGrade",value:function(e,t){var a=e.target.value,n=this.changeValueInBloc(this.state.year,t,a);n=(n=this.computeBloc(n)).itemProcessed,this.computeRattrapage(n),this.setState({year:n})}},{key:"changeValueInBloc",value:function(e,t,a){var n=Object.assign({},e);if("items"in n){var r,s=[],c=Object(d.a)(e.items);try{for(c.s();!(r=c.n()).done;){var i=r.value,l=this.changeValueInBloc(i,t,a);s.push(l)}}catch(o){c.e(o)}finally{c.f()}n.items=s}else n.name===t&&(n.value=parseFloat(a));return n}},{key:"styleValidated",value:function(e){return e>=10?{color:"green"}:{color:"red"}}},{key:"computeRattrapage",value:function(e){var t=[];e.grade>=0&&this.computeMeanUeFondamentales(e)>=10||(t=this.computeECUnderGrade(e,10)),this.setState({rattrapage:t})}},{key:"computeECUnderGrade",value:function(e,t){var a,n=[],r=Object(d.a)(e.items);try{for(r.s();!(a=r.n()).done;){var s,c=a.value,i=Object(d.a)(c.items);try{for(i.s();!(s=i.n()).done;){var l,o=s.value,u=Object(d.a)(o.items);try{for(u.s();!(l=u.n()).done;){var j=l.value;j.disp||j.value<t&&n.push(j.name)}}catch(h){u.e(h)}finally{u.f()}}}catch(h){i.e(h)}finally{i.f()}}}catch(h){r.e(h)}finally{r.f()}return n}},{key:"computeMeanUeFondamentales",value:function(e){var t,a=0,n=0,r=Object(d.a)(e.items);try{for(r.s();!(t=r.n()).done;){var s,c=t.value,i=Object(d.a)(c.items);try{for(i.s();!(s=i.n()).done;){var l=s.value;l.isFondamentale&&(a+=l.grade*l.credit,n+=l.credit)}}catch(o){i.e(o)}finally{i.f()}}}catch(o){r.e(o)}finally{r.f()}return a/n}},{key:"render",value:function(){var e=this,t=this.state,a=t.year,n=t.rattrapage,r=a.grade,s=this.computeMeanUeFondamentales(a);return Object(x.jsxs)("div",{children:[Object(x.jsxs)(h.a,{variant:"h3",style:this.styleValidated(a.grade),children:[a.name," - ",a.credit," cr\xe9dits - ",a.grade]}),Object(x.jsx)(m.a,{style:{marginTop:"30px"}}),Object(x.jsxs)(h.a,{children:["Moyenne sur l'ann\xe9e ",r," ",Object(x.jsx)("span",{children:r>=10?Object(x.jsx)(g.a,{}):Object(x.jsx)(O.a,{})})]}),Object(x.jsxs)(h.a,{children:["Moyenne des UE fondamentales ",s,Object(x.jsx)("span",{children:s>=10?Object(x.jsx)(g.a,{}):Object(x.jsx)(O.a,{})})]}),Object(x.jsx)(h.a,{children:"Mes rattrapages:"}),n.length?n.map((function(e){return Object(x.jsxs)(h.a,{children:[" - ",e]})})):Object(x.jsx)(h.a,{children:"Rien ! Vous avez valid\xe9 votre ann\xe9e :)"}),Object(x.jsx)(m.a,{}),a.items.map((function(t){return Object(x.jsxs)("div",{style:{paddingTop:"30px"},children:[Object(x.jsxs)(h.a,{style:e.styleValidated(t.grade),variant:"h4",children:[t.name," ",t.grade?t.grade:""]}),t.items.map((function(t){return Object(x.jsxs)("div",{children:[Object(x.jsxs)(h.a,{style:e.styleValidated(t.grade),variant:"h5",children:[t.name," ",t.grade?t.grade:""]}),Object(x.jsx)(p.a,{children:t.items.map((function(t){return Object(x.jsx)(v.a,{children:Object(x.jsxs)(h.a,{style:e.styleValidated(t.value),children:[t.name," - ",t.credit,Object(x.jsx)(f.a,{disabled:t.disp,onChange:function(a){return e.onChangeGrade(a,t.name)},defaultValue:t.disp?"disp":t.value,variant:"outlined",style:{marginLeft:"50px",width:"60px"}})]})},t.name)}))})]},t.name)}))]},t.name)}))]})}}]),a}(r.a.Component);a(79);var F=function(e){return Object(x.jsx)(i.a,{basename:"/doisjepasserunrattrapage",children:Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(k,{})})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,120)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root")),V()}},[[83,1,2]]]);
//# sourceMappingURL=main.0b025214.chunk.js.map